<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<div th:fragment="js" th:inline="javascript">
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdn.bootcss.com/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.bootcss.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script th:src="@{/plugins/nprogress/nprogress.js}"></script>
    <script th:src="@{/js/jquery.twbsPagination.min.js}"></script>
    <script th:src="@{/js/jquery.toTop.min.js}"></script>
    <script >
        $(document).ready(function() {
            // top nav
            $("#top-nav").find("li").removeClass("active");
            $("#" + [[${topNav}]]).addClass("active");

            // tab
            $("#tab-container").find("li").find("a").removeClass("active");
            $("#" + [[${tab}]]).addClass("active");

            // header search
            $('#header-search').click(function() {
                $('#header-search').animate({width: '500px'});
            }).blur(function() {
                $('#header-search').animate({width: '300px'});
            });

            // back to top
            $('.to-top').toTop({
                //以下是选项默认参数，您可以根据自己的需求修改
                autohide: true,  // 是否自动隐藏
                offset: 420,     // 距离顶部多少距离时自动隐藏按钮
                speed: 200,      // 滚动持续时间
                position: true,  // 如果设置为 false，则需要手动在 css 中设置“按钮”的位置
                right: 20,       // 右侧距离
                bottom: 162      // 底部距离
            });

        });

        // enable tooltips everywhere
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
</div>

<script th:fragment="nprogress" th:inline="javascript">
    $(document).ready(function () {
        // 顶部加载进度条
        NProgress.configure({
            showSpinner: false
        });
        NProgress.start();
    });
    // 页面内容全部加载完成后，设置进度条消失
    $(window).load(function () {
        NProgress.done()
    });
</script>

<!-- 百度统计 -->
<script th:fragment="baiduStatistics" th:inline="javascript">
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?4442b22cf891556abc24108829356be4";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>

<!-- 百度链接推送 -->
<script th:fragment="baiduLinkPush" th:inline="javascript">
    (function(){
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        }
        else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

<!-- 360链接推送 -->
<script th:fragment="360LinkPush" th:inline="javascript">
    (function(){
        var src = (document.location.protocol == "http:") ? "http://js.passport.qihucdn.com/11.0.1.js?a1b421285d25d7d0a4a634b637de24fe":"https://jspassport.ssl.qhimg.com/11.0.1.js?a1b421285d25d7d0a4a634b637de24fe";
        document.write('<script src="' + src + '" id="sozz"><\/script>');
    })();
</script>

<!-- 热门标签加载 -->
<script th:fragment="ajaxLoadHotTags" th:inline="javascript">
    $(document).ready(function() {
        // 右边栏热门标签数据，异步加载
        $('#hot-tag-card').show();
        $.ajax({
            type: "GET",
            async: true,
            url: "/home/hot/tag/list",
            datatype: "json",
            success: function (response) {
                if (response.success == true) {
                    var html = '';
                    var data = response.data;
                    $.each(data, function (i, tag) {
                        html += "<li class=\"list-group-item d-flex justify-content-between align-items-center border0 padding0\">";
                        html += "<a href=\"/question/tag/" + tag.tagId + "\" class=\"badge badge-light-blue\">" + tag.tagName + "</a>";
                        html += "<span class=\"badge badge-light badge-pill text-gray\">" + tag.questionCount + "</span>";
                        html += "</li>"
                    });
                    $('#hot-tag-list').html(html);
                }
            }
        });
    });
</script>

</html>